# UI/UX 설계

## 개요

1:1 및 그룹 채팅의 화면 설계 및 사용자 경험 가이드입니다.

---

## 화면 구조

### 전체 레이아웃

```
┌────────────────────────────────────────────────────────────────────┐
│                           헤더 (60px)                               │
├──────────────────┬─────────────────────────────────────────────────┤
│                  │                                                 │
│   채팅방 목록     │              채팅 영역                           │
│   (320px)        │              (flex-1)                           │
│                  │                                                 │
│                  │                                                 │
│                  │                                                 │
│                  │                                                 │
│                  │                                                 │
│                  │                                                 │
└──────────────────┴─────────────────────────────────────────────────┘
```

### 반응형 브레이크포인트

| 화면 | 레이아웃 |
|------|----------|
| Desktop (1024px+) | 사이드바 + 채팅 |
| Tablet (768px~1023px) | 접이식 사이드바 |
| Mobile (~767px) | 목록/채팅 전환 |

---

## 1. 채팅방 목록 (사이드바)

### 1.1 목록 헤더

```
┌────────────────────────────────────┐
│  💬 메시지           [✏️ 새 대화]   │
├────────────────────────────────────┤
│  [🔍 대화 검색...]                  │
├────────────────────────────────────┤
│  [전체] [1:1] [그룹]               │
└────────────────────────────────────┘
```

### 1.2 채팅방 항목

**1:1 채팅:**
```
┌────────────────────────────────────┐
│ 📌 [🟢] [👤아바타]                  │
│                                    │
│  홍길동              오전 10:30    │
│  안녕하세요! 오늘 스...    [3]      │
└────────────────────────────────────┘

📌 = 고정됨
🟢 = 온라인
[3] = 안읽은 메시지 수
```

**그룹 채팅:**
```
┌────────────────────────────────────┐
│ [👥그룹아바타]                      │
│                                    │
│  스터디 그룹 (8)       어제        │
│  김철수: 내일 모임 있...   🔕      │
└────────────────────────────────────┘

(8) = 멤버 수
🔕 = 알림 꺼짐
```

### 1.3 빈 상태

```
┌────────────────────────────────────┐
│                                    │
│            💬                      │
│                                    │
│      대화가 없습니다                │
│                                    │
│  친구에게 먼저 메시지를 보내보세요   │
│                                    │
│      [새 대화 시작하기]             │
│                                    │
└────────────────────────────────────┘
```

---

## 2. 채팅방 화면

### 2.1 채팅방 헤더

**1:1 채팅:**
```
┌──────────────────────────────────────────────────────────────┐
│  [←]  [👤] 홍길동 🟢 접속중          [📞] [📹] [⋮]          │
└──────────────────────────────────────────────────────────────┘

[←] = 뒤로가기 (모바일)
[📞] = 음성통화 (미래 기능)
[📹] = 화상통화 (미래 기능)
[⋮] = 더보기 메뉴
```

**그룹 채팅:**
```
┌──────────────────────────────────────────────────────────────┐
│  [←]  [👥] 스터디 그룹 (8명)         [📞] [📹] [⋮]          │
└──────────────────────────────────────────────────────────────┘
```

**더보기 메뉴 (⋮):**
```
┌─────────────────────┐
│ 🔍 메시지 검색      │
│ 📌 대화 고정/해제   │
│ 🔕 알림 끄기        │
│ ─────────────────── │
│ 👥 멤버 보기        │  (그룹만)
│ ⚙️ 채팅방 설정      │  (그룹만)
│ ─────────────────── │
│ 🚪 나가기           │
│ 🚨 신고하기         │
└─────────────────────┘
```

### 2.2 메시지 영역

```
┌──────────────────────────────────────────────────────────────┐
│                                                              │
│              ─── 2024년 12월 15일 일요일 ───                  │
│                                                              │
│  [👤]  홍길동                                    10:30       │
│        ┌─────────────────────────────┐                       │
│        │ 안녕하세요!                  │                       │
│        └─────────────────────────────┘                       │
│        👍 2                                                  │
│                                                              │
│                                   ┌─────────────────────┐    │
│                                   │ 네, 안녕하세요! ✓✓   │    │
│                                   └─────────────────────┘    │
│                                                    10:31     │
│                                                              │
│  [👤]  홍길동                                    10:32       │
│        ┌─────────────────────────────┐                       │
│        │ ↩ 네, 안녕하세요!            │                       │
│        │ ─────────────────────────── │                       │
│        │ 반가워요 :)                  │                       │
│        └─────────────────────────────┘                       │
│                                                              │
│              ─── 새 메시지 ───                               │
│                                                              │
│  [👤]  홍길동                                    10:35       │
│        ┌─────────────────────────────┐                       │
│        │ [📷 이미지]                  │                       │
│        │                             │                       │
│        └─────────────────────────────┘                       │
│                                                              │
│  ────────────────────────────────────────────────────────── │
│  홍길동님이 입력 중 ···                                       │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

### 2.3 메시지 버블 스타일

**내 메시지 (오른쪽, 파란색):**
```css
.message-own {
  background: #3B82F6;  /* blue-500 */
  color: white;
  border-radius: 18px 18px 4px 18px;
  max-width: 70%;
}
```

**상대 메시지 (왼쪽, 회색):**
```css
.message-other {
  background: #F3F4F6;  /* gray-100 */
  color: #1F2937;       /* gray-800 */
  border-radius: 18px 18px 18px 4px;
  max-width: 70%;
}
```

### 2.4 메시지 컨텍스트 메뉴

**내 메시지에서 마우스 호버 또는 길게 누름:**
```
┌─────────────────────────┐
│ 😀 👍 ❤️ 😂 😮 😢 + │  (빠른 반응)
├─────────────────────────┤
│ ↩️ 답장                  │
│ ✏️ 수정                  │
│ 📋 복사                  │
│ 🗑️ 삭제                  │
└─────────────────────────┘
```

**상대 메시지:**
```
┌─────────────────────────┐
│ 😀 👍 ❤️ 😂 😮 😢 + │
├─────────────────────────┤
│ ↩️ 답장                  │
│ 📋 복사                  │
│ 🚨 신고                  │
└─────────────────────────┘
```

### 2.5 이미지 메시지

```
┌─────────────────────────────────────┐
│ ┌─────────────────────────────────┐ │
│ │                                 │ │
│ │       [이미지 썸네일]            │ │
│ │         (클릭 시 원본)           │ │
│ │                                 │ │
│ └─────────────────────────────────┘ │
│ 사진 설명 (선택)                     │
└─────────────────────────────────────┘
```

### 2.6 파일 메시지

```
┌─────────────────────────────────────┐
│ ┌─────────────────────────────────┐ │
│ │ 📄  report.pdf                  │ │
│ │     2.5 MB                      │ │
│ │                     [다운로드]   │ │
│ └─────────────────────────────────┘ │
│ 보고서 파일입니다                    │
└─────────────────────────────────────┘
```

### 2.7 시스템 메시지

```
─────── 홍길동님이 들어왔습니다. ───────
```

```css
.system-message {
  text-align: center;
  color: #9CA3AF;  /* gray-400 */
  font-size: 12px;
  padding: 8px 0;
}
```

---

## 3. 입력 영역

### 3.1 기본 상태

```
┌──────────────────────────────────────────────────────────────┐
│ [📎]  [메시지를 입력하세요...]              [😊]  [➤]       │
└──────────────────────────────────────────────────────────────┘

[📎] = 파일 첨부
[😊] = 이모지 선택
[➤] = 전송
```

### 3.2 답장 모드

```
┌──────────────────────────────────────────────────────────────┐
│ ┌──────────────────────────────────────────────────────┐ [✕]│
│ │ ↩ 홍길동에게 답장                                    │     │
│ │ 원본 메시지 내용 미리보기...                          │     │
│ └──────────────────────────────────────────────────────┘     │
├──────────────────────────────────────────────────────────────┤
│ [📎]  [답장 내용 입력...]                   [😊]  [➤]       │
└──────────────────────────────────────────────────────────────┘
```

### 3.3 파일 첨부 상태

```
┌──────────────────────────────────────────────────────────────┐
│ ┌──────────┐ ┌──────────┐ ┌──────────┐                      │
│ │ [📷]     │ │ [📄]     │ │ [📄]     │                      │
│ │ photo.jpg│ │ doc.pdf  │ │ file.zip │                      │
│ │ 1.2MB [✕]│ │ 500KB [✕]│ │ 2MB  [✕]│                      │
│ └──────────┘ └──────────┘ └──────────┘                      │
├──────────────────────────────────────────────────────────────┤
│ [📎]  [파일 설명 입력 (선택)...]            [😊]  [➤]       │
└──────────────────────────────────────────────────────────────┘
```

### 3.4 이모지 피커

```
┌──────────────────────────────────────┐
│ [🔍 검색...]                         │
├──────────────────────────────────────┤
│ 최근 사용                            │
│ 😀 😂 ❤️ 👍 🎉 😢 😮 🔥           │
├──────────────────────────────────────┤
│ 😀 감정                              │
│ 😀 😃 😄 😁 😆 😅 🤣 😂            │
│ 🙂 🙃 😉 😊 😇 🥰 😍 🤩            │
│ ...                                  │
├──────────────────────────────────────┤
│ [😀] [🐻] [🍔] [⚽] [🚗] [💡] [🎵] [🏳️] │
└──────────────────────────────────────┘

하단: 카테고리 선택
```

---

## 4. 새 대화 시작

### 4.1 사용자 검색

```
┌──────────────────────────────────────────────────────────────┐
│                    새 대화 시작                      [✕]    │
├──────────────────────────────────────────────────────────────┤
│  받는 사람:                                                  │
│  ┌──────────────────────────────────────────────────────┐   │
│  │ [👤 홍길동 ✕]  [검색...]                              │   │
│  └──────────────────────────────────────────────────────┘   │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  추천 친구                                                   │
│  ┌────────────────────────────────────────────────────┐     │
│  │ [👤] 김철수          같은 스터디                    │     │
│  │ [👤] 이영희          최근 대화                      │     │
│  │ [👤] 박지민          친구                          │     │
│  └────────────────────────────────────────────────────┘     │
│                                                              │
├──────────────────────────────────────────────────────────────┤
│        [취소]                    [대화 시작]                 │
│                                  [그룹으로 시작] (2명 이상)   │
└──────────────────────────────────────────────────────────────┘
```

### 4.2 그룹 생성

```
┌──────────────────────────────────────────────────────────────┐
│                   그룹 채팅 만들기                    [✕]    │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  그룹 이미지 (선택)                                          │
│         ┌─────────┐                                          │
│         │  [📷]   │  클릭하여 이미지 선택                     │
│         └─────────┘                                          │
│                                                              │
│  그룹 이름 *                                                 │
│  ┌──────────────────────────────────────────────────────┐   │
│  │ 스터디 그룹                                           │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                              │
│  설명 (선택)                                                 │
│  ┌──────────────────────────────────────────────────────┐   │
│  │ 알고리즘 스터디 그룹입니다.                           │   │
│  └──────────────────────────────────────────────────────┘   │
│                                                              │
│  멤버 (3명 선택됨)                                           │
│  ┌────────────────────────────────────────────────────┐     │
│  │ [👤 홍길동 ✕] [👤 김철수 ✕] [👤 이영희 ✕] [+ 추가]  │     │
│  └────────────────────────────────────────────────────┘     │
│                                                              │
├──────────────────────────────────────────────────────────────┤
│        [취소]                        [그룹 만들기]           │
└──────────────────────────────────────────────────────────────┘
```

---

## 5. 채팅방 설정

### 5.1 1:1 채팅 설정

```
┌──────────────────────────────────────────────────────────────┐
│                      채팅방 설정                     [✕]    │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  [👤 아바타]                                                 │
│  홍길동                                                      │
│  [프로필 보기]                                               │
│                                                              │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  알림 설정                                                   │
│  ┌────────────────────────────────────────────────────┐     │
│  │ 알림                              [ON/OFF 토글]     │     │
│  └────────────────────────────────────────────────────┘     │
│                                                              │
│  대화 고정                                                   │
│  ┌────────────────────────────────────────────────────┐     │
│  │ 상단에 고정                       [ON/OFF 토글]     │     │
│  └────────────────────────────────────────────────────┘     │
│                                                              │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  [🚪 대화방 나가기]                                          │
│  [🚫 차단하기]                                               │
│  [🚨 신고하기]                                               │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

### 5.2 그룹 채팅 설정

```
┌──────────────────────────────────────────────────────────────┐
│                      채팅방 설정                     [✕]    │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  [그룹 이미지]                                               │
│  스터디 그룹                                    [✏️ 수정]    │
│  8명 참여 중                                                 │
│                                                              │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  👥 멤버                                       [+ 초대]      │
│  ┌────────────────────────────────────────────────────┐     │
│  │ [👤] 홍길동          방장                   [⋮]     │     │
│  │ [👤] 김철수          관리자                 [⋮]     │     │
│  │ [👤] 이영희                                 [⋮]     │     │
│  │ [👤] 박지민                                 [⋮]     │     │
│  │ ... 더보기                                          │     │
│  └────────────────────────────────────────────────────┘     │
│                                                              │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  🔔 알림 설정                                                │
│  ┌────────────────────────────────────────────────────┐     │
│  │ 알림                              [ON/OFF 토글]     │     │
│  └────────────────────────────────────────────────────┘     │
│                                                              │
│  📌 대화 고정                                                │
│  ┌────────────────────────────────────────────────────┐     │
│  │ 상단에 고정                       [ON/OFF 토글]     │     │
│  └────────────────────────────────────────────────────┘     │
│                                                              │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  [🚪 그룹 나가기]                                            │
│  [🗑️ 그룹 삭제하기]  (방장만)                                │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

---

## 6. 애니메이션 & 트랜지션

### 6.1 메시지 전송

```css
@keyframes messageSend {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

.message-new {
  animation: messageSend 0.2s ease-out;
}
```

### 6.2 타이핑 인디케이터

```css
@keyframes typingDot {
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-4px); }
}

.typing-dot {
  animation: typingDot 1.4s infinite;
}
.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }
```

### 6.3 읽음 표시

```css
@keyframes checkAppear {
  0% { opacity: 0; transform: scale(0.5); }
  100% { opacity: 1; transform: scale(1); }
}

.read-check {
  animation: checkAppear 0.2s ease-out;
}
```

---

## 7. 접근성 (a11y)

### 7.1 키보드 네비게이션

| 키 | 동작 |
|-----|------|
| `Tab` | 다음 요소로 이동 |
| `Shift+Tab` | 이전 요소로 이동 |
| `Enter` | 메시지 전송 / 버튼 클릭 |
| `Shift+Enter` | 줄바꿈 |
| `Escape` | 모달/메뉴 닫기 |
| `↑` / `↓` | 채팅방 목록 이동 |

### 7.2 스크린 리더

```jsx
<div 
  role="log" 
  aria-label="채팅 메시지"
  aria-live="polite"
>
  {messages.map(msg => (
    <div 
      role="article"
      aria-label={`${msg.sender.name}의 메시지: ${msg.content}`}
    >
      ...
    </div>
  ))}
</div>
```

### 7.3 색상 대비

- 텍스트: 최소 4.5:1 대비
- 큰 텍스트: 최소 3:1 대비
- 중요 요소: 색상 외 아이콘 병행

---

## 8. 다크 모드

### 8.1 색상 팔레트

| 요소 | 라이트 | 다크 |
|------|--------|------|
| 배경 | #FFFFFF | #1F2937 |
| 사이드바 | #F9FAFB | #111827 |
| 내 메시지 | #3B82F6 | #2563EB |
| 상대 메시지 | #F3F4F6 | #374151 |
| 텍스트 | #1F2937 | #F9FAFB |
| 서브 텍스트 | #6B7280 | #9CA3AF |
| 구분선 | #E5E7EB | #374151 |

### 8.2 CSS 변수

```css
:root {
  --bg-primary: #FFFFFF;
  --bg-secondary: #F9FAFB;
  --msg-own: #3B82F6;
  --msg-other: #F3F4F6;
  --text-primary: #1F2937;
  --text-secondary: #6B7280;
}

[data-theme="dark"] {
  --bg-primary: #1F2937;
  --bg-secondary: #111827;
  --msg-own: #2563EB;
  --msg-other: #374151;
  --text-primary: #F9FAFB;
  --text-secondary: #9CA3AF;
}
```

