# ğŸ–¥ï¸ íŒŒì¼ í™”ë©´

## ê°œìš”

ìŠ¤í„°ë”” íŒŒì¼ ê´€ë¦¬ í™”ë©´ì…ë‹ˆë‹¤. íŒŒì¼ ì—…ë¡œë“œ, ëª©ë¡ ì¡°íšŒ, ë‹¤ìš´ë¡œë“œ, ì‚­ì œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

**íŒŒì¼ ìœ„ì¹˜**: `src/app/my-studies/[studyId]/files/page.jsx`

---

## í™”ë©´ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† ë‚´ ìŠ¤í„°ë”” ëª©ë¡                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“š ìŠ¤í„°ë”” ì´ë¦„                     ğŸ‘‘ OWNER           â”‚  â”‚
â”‚  â”‚ ğŸ‘¥ 5/10ëª…                                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ëŒ€ì‹œë³´ë“œ | ì±„íŒ… | ê³µì§€ | ìº˜ë¦°ë” | [íŒŒì¼] | ë©¤ë²„ | ì„¤ì •      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“ íŒŒì¼ ê´€ë¦¬                        [â¬†ï¸ íŒŒì¼ ì—…ë¡œë“œ]        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ì „ì²´(45) | ë¬¸ì„œ(20) | ì´ë¯¸ì§€(15) | ì••ì¶•(5) | ê¸°íƒ€(5) â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           â¬†ï¸                                         â”‚   â”‚
â”‚  â”‚  íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì„¸ìš”                       â”‚   â”‚
â”‚  â”‚  ì§€ì› í˜•ì‹: ëª¨ë“  íŒŒì¼ (ìµœëŒ€ 50MB)                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ğŸ“„ íŒŒì¼ (45)                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â˜ | ì´ë¦„           | í¬ê¸°    | ì—…ë¡œë” | ë‚ ì§œ    | ì•¡ì…˜â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â˜ | ğŸ“„ ë¬¸ì„œ1.pdf   | 2.5 MB  | í™ê¸¸ë™ | 12.01  |[D][X]â”‚  â”‚
â”‚  â”‚ â˜ | ğŸ–¼ï¸ ì´ë¯¸ì§€.png  | 1.2 MB  | ê¹€ì² ìˆ˜ | 12.02  |[D][X]â”‚  â”‚
â”‚  â”‚ â˜ | ğŸ“¦ ìë£Œ.zip    | 15.3 MB | ì´ì˜í¬ | 12.03  |[D][X]â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  ì„ íƒëœ íŒŒì¼ (2ê°œ): [ì‚­ì œ]                                   â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚ âš¡ ë¹ ë¥¸ ì•¡ì…˜    â”‚                                        â”‚
â”‚  â”‚ [ğŸ“¤ ì—…ë¡œë“œ]     â”‚                                        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                        â”‚
â”‚  â”‚ ğŸ“Š íŒŒì¼ í†µê³„    â”‚                                        â”‚
â”‚  â”‚ ì „ì²´ íŒŒì¼: 45ê°œ â”‚                                        â”‚
â”‚  â”‚ ì´ ìš©ëŸ‰: 128MB  â”‚                                        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                        â”‚
â”‚  â”‚ ğŸ“ ìµœê·¼ íŒŒì¼    â”‚                                        â”‚
â”‚  â”‚ ğŸ“„ ë¬¸ì„œ1.pdf    â”‚                                        â”‚
â”‚  â”‚ ğŸ–¼ï¸ ì´ë¯¸ì§€.png   â”‚                                        â”‚
â”‚  â”‚ ğŸ“¦ ìë£Œ.zip     â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```jsx
<MyStudyFilesPage>
  â”œâ”€â”€ Header
  â”‚   â”œâ”€â”€ BackButton
  â”‚   â””â”€â”€ StudyHeader (ì´ë¦„, ì´ëª¨ì§€, ë©¤ë²„ ìˆ˜, ì—­í• )
  â”œâ”€â”€ StudyTabs (ëŒ€ì‹œë³´ë“œ, ì±„íŒ…, ê³µì§€, ìº˜ë¦°ë”, íŒŒì¼*, ë©¤ë²„, ì„¤ì •)
  â”œâ”€â”€ MainContent
  â”‚   â”œâ”€â”€ FileSection
  â”‚   â”‚   â”œâ”€â”€ FileHeader (ì œëª©, ì—…ë¡œë“œ ë²„íŠ¼)
  â”‚   â”‚   â”œâ”€â”€ FilterSection (ì „ì²´/ë¬¸ì„œ/ì´ë¯¸ì§€/ì••ì¶•/ê¸°íƒ€)
  â”‚   â”‚   â”œâ”€â”€ DropZone (ë“œë˜ê·¸ ì•¤ ë“œë¡­)
  â”‚   â”‚   â”œâ”€â”€ FileListSection
  â”‚   â”‚   â”‚   â”œâ”€â”€ TableHeader
  â”‚   â”‚   â”‚   â””â”€â”€ FileRow[] (ì²´í¬ë°•ìŠ¤, ì´ë¦„, í¬ê¸°, ì—…ë¡œë”, ë‚ ì§œ, ì•¡ì…˜)
  â”‚   â”‚   â””â”€â”€ SelectedActions (ì„ íƒ ì‚­ì œ)
  â”‚   â””â”€â”€ Sidebar
  â”‚       â”œâ”€â”€ QuickActions (ì—…ë¡œë“œ)
  â”‚       â”œâ”€â”€ Statistics (íŒŒì¼ ìˆ˜, ìš©ëŸ‰)
  â”‚       â””â”€â”€ RecentFiles (ìµœê·¼ 3ê°œ)
</MyStudyFilesPage>
```

---

## ì£¼ìš” ê¸°ëŠ¥

### 1. íŒŒì¼ ì—…ë¡œë“œ

**ë“œë˜ê·¸ ì•¤ ë“œë¡­**

```jsx
const handleDrop = (e) => {
  e.preventDefault();
  setIsDragging(false);
  const droppedFiles = Array.from(e.dataTransfer.files);
  handleFileUpload(droppedFiles);
};
```

**íŒŒì¼ ì„ íƒ**

```jsx
<input
  ref={fileInputRef}
  type="file"
  multiple
  style={{ display: 'none' }}
  onChange={(e) => handleFileUpload(Array.from(e.target.files))}
/>
```

**ì—…ë¡œë“œ ì²˜ë¦¬**

```jsx
const handleFileUpload = async (fileList) => {
  for (const file of fileList) {
    try {
      const formData = new FormData();
      formData.append('file', file);

      await uploadFileMutation.mutateAsync({
        studyId,
        formData
      });
    } catch (error) {
      alert(`íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨ (${file.name}): ${error.message}`);
    }
  }
  
  setTimeout(() => refetch(), 500);
};
```

### 2. íŒŒì¼ í•„í„°ë§

**ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜**

```jsx
const getFileCategory = (file) => {
  const ext = getFileExtension(file.name);

  const docExtensions = ['pdf', 'doc', 'docx', 'xls', 'xlsx', ...];
  if (docExtensions.includes(ext)) return 'ë¬¸ì„œ';

  const imageExtensions = ['jpg', 'jpeg', 'png', 'gif', ...];
  if (imageExtensions.includes(ext)) return 'ì´ë¯¸ì§€';

  const archiveExtensions = ['zip', 'rar', '7z', ...];
  if (archiveExtensions.includes(ext)) return 'ì••ì¶•';

  return 'ê¸°íƒ€';
};
```

**í•„í„° íƒ­**

```jsx
const filteredFiles = activeFilter === 'ì „ì²´'
  ? files
  : files.filter(file => getFileCategory(file) === activeFilter);
```

### 3. íŒŒì¼ ë‹¤ìš´ë¡œë“œ

```jsx
const handleDownload = (fileUrl, fileName) => {
  const link = document.createElement('a');
  link.href = fileUrl;
  link.download = fileName;
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
};
```

### 4. íŒŒì¼ ì‚­ì œ

```jsx
const handleDeleteFile = async (fileId, fileName) => {
  if (!confirm(`${fileName} íŒŒì¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) return;

  try {
    await deleteFileMutation.mutateAsync({ studyId, fileId });
    setSelectedFiles(prev => prev.filter(id => id !== fileId));
    await refetch();
  } catch (error) {
    alert('íŒŒì¼ ì‚­ì œ ì‹¤íŒ¨: ' + error.message);
  }
};
```

### 5. íŒŒì¼ ì„ íƒ

**ê°œë³„ ì„ íƒ**

```jsx
const handleFileSelect = (fileId) => {
  setSelectedFiles((prev) =>
    prev.includes(fileId)
      ? prev.filter((id) => id !== fileId)
      : [...prev, fileId]
  );
};
```

**ì „ì²´ ì„ íƒ**

```jsx
const handleSelectAll = () => {
  if (selectedFiles.length === filteredFiles.length) {
    setSelectedFiles([]);
  } else {
    setSelectedFiles(filteredFiles.map((f) => f.id));
  }
};
```

---

## ìƒíƒœ ê´€ë¦¬

```jsx
const [isDragging, setIsDragging] = useState(false);
const [selectedFiles, setSelectedFiles] = useState([]);
const [activeFilter, setActiveFilter] = useState('ì „ì²´');
```

---

## API Hooks

```jsx
const { data: studyData, isLoading: studyLoading } = useStudy(studyId);
const { data: filesData, isLoading: filesLoading, refetch } = useFiles(studyId);
const uploadFileMutation = useUploadFile();
const deleteFileMutation = useDeleteFile();
```

---

## ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

### íŒŒì¼ ì•„ì´ì½˜

```jsx
const getFileIcon = (type) => {
  if (!type) return 'ğŸ“„';
  if (type.includes('pdf')) return 'ğŸ“„';
  if (type.includes('image')) return 'ğŸ–¼ï¸';
  if (type.includes('video')) return 'ğŸ¬';
  if (type.includes('audio')) return 'ğŸµ';
  if (type.includes('zip') || type.includes('rar')) return 'ğŸ“¦';
  if (type.includes('word')) return 'ğŸ“';
  if (type.includes('excel') || type.includes('spreadsheet')) return 'ğŸ“Š';
  return 'ğŸ“„';
};
```

### íŒŒì¼ í¬ê¸° í¬ë§·

```jsx
const formatFileSize = (bytes) => {
  if (!bytes) return '0 B';
  const k = 1024;
  const sizes = ['B', 'KB', 'MB', 'GB'];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i];
};
```

### ë‚ ì§œ í¬ë§·

```jsx
const formatDate = (date) => {
  if (!date) return '';
  const d = new Date(date);
  return `${d.getFullYear()}.${String(d.getMonth() + 1).padStart(2, '0')}.${String(d.getDate()).padStart(2, '0')}`;
};
```

---

## ìŠ¤íƒ€ì¼

**íŒŒì¼ ìœ„ì¹˜**: `src/app/my-studies/[studyId]/files/page.module.css`

### ì£¼ìš” í´ë˜ìŠ¤

| í´ë˜ìŠ¤ | ì„¤ëª… |
|--------|------|
| `.container` | ì „ì²´ ì»¨í…Œì´ë„ˆ (max-width: 1600px) |
| `.dropZone` | ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì˜ì—­ |
| `.dropZone.dragging` | ë“œë˜ê·¸ ì¤‘ ìƒíƒœ |
| `.filterTabs` | í•„í„° íƒ­ ì»¨í…Œì´ë„ˆ |
| `.filterTab.active` | í™œì„± í•„í„° íƒ­ |
| `.fileRow` | íŒŒì¼ í–‰ |
| `.tableHeader` | í…Œì´ë¸” í—¤ë” |
| `.widget` | ì‚¬ì´ë“œë°” ìœ„ì ¯ |

---

## ë°˜ì‘í˜•

```css
@media (max-width: 768px) {
  .mainContent {
    flex-direction: column;
  }
  
  .sidebar {
    width: 100%;
  }
}
```

---

## ê´€ë ¨ ë¬¸ì„œ

- [README](./README.md)
- [API](./api.md)
- [ë³´ì•ˆ](./security.md)
- [ì˜ˆì™¸](./exceptions.md)

