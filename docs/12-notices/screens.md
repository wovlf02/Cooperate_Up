# ğŸ–¥ï¸ ê³µì§€ì‚¬í•­ í™”ë©´

## ê°œìš”

ìŠ¤í„°ë”” ê³µì§€ì‚¬í•­ ê´€ë¦¬ í™”ë©´ì…ë‹ˆë‹¤. ê³µì§€ ëª©ë¡ ì¡°íšŒ, í•„í„°ë§, ì‘ì„±, ìˆ˜ì •, ì‚­ì œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

**íŒŒì¼ ìœ„ì¹˜**: `src/app/my-studies/[studyId]/notices/page.jsx`

---

## í™”ë©´ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† ë‚´ ìŠ¤í„°ë”” ëª©ë¡                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“š ìŠ¤í„°ë”” ì´ë¦„                     ğŸ‘‘ OWNER           â”‚  â”‚
â”‚  â”‚ ğŸ‘¥ 5/10ëª…                                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ëŒ€ì‹œë³´ë“œ | ì±„íŒ… | [ê³µì§€] | ì¼ì • | íŒŒì¼ | ë©¤ë²„ | ì„¤ì •        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“¢ ê³µì§€ì‚¬í•­                              [+ ìƒˆ ê³µì§€]        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ì „ì²´ 25 | ê³ ì • 3 | ì¤‘ìš” 5 | ì¼ë°˜ 17                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  [ğŸ” ê³µì§€ì‚¬í•­ ê²€ìƒ‰...]                                       â”‚
â”‚                                                             â”‚
â”‚  ğŸ“Œ ê³ ì •ëœ ê³µì§€                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“Œ [ì¤‘ìš”] ìŠ¤í„°ë”” ê·œì¹™ ì•ˆë‚´                             â”‚  â”‚
â”‚  â”‚ í™ê¸¸ë™ Â· 2024.12.01 Â· ì¡°íšŒ 45                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  ğŸ“‹ ì „ì²´ ê³µì§€                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“¢ ì´ë²ˆ ì£¼ ìŠ¤í„°ë”” ì¼ì • ë³€ê²½                            â”‚  â”‚
â”‚  â”‚ ê¹€ì² ìˆ˜ Â· 2024.12.10 Â· ì¡°íšŒ 23                         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸ“¢ ê³¼ì œ ì œì¶œ ì•ˆë‚´                                      â”‚  â”‚
â”‚  â”‚ ì´ì˜í¬ Â· 2024.12.08 Â· ì¡°íšŒ 31                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚ ğŸ“Š í†µê³„         â”‚                                        â”‚
â”‚  â”‚ ì „ì²´: 25ê°œ      â”‚                                        â”‚
â”‚  â”‚ ê³ ì •: 3ê°œ       â”‚                                        â”‚
â”‚  â”‚ ì¤‘ìš”: 5ê°œ       â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```jsx
<MyStudyNoticesPage>
  â”œâ”€â”€ Header
  â”‚   â”œâ”€â”€ BackButton
  â”‚   â””â”€â”€ StudyHeader
  â”œâ”€â”€ StudyTabs
  â”œâ”€â”€ MainContent
  â”‚   â”œâ”€â”€ NoticeSection
  â”‚   â”‚   â”œâ”€â”€ NoticeHeader (ì œëª©, ìƒˆ ê³µì§€ ë²„íŠ¼)
  â”‚   â”‚   â”œâ”€â”€ FilterSection (ì „ì²´/ê³ ì •/ì¤‘ìš”/ì¼ë°˜)
  â”‚   â”‚   â”œâ”€â”€ SearchBox
  â”‚   â”‚   â”œâ”€â”€ PinnedNotices (ê³ ì •ëœ ê³µì§€ ì„¹ì…˜)
  â”‚   â”‚   â””â”€â”€ NoticeList (ì¼ë°˜ ê³µì§€ ëª©ë¡)
  â”‚   â””â”€â”€ Sidebar
  â”‚       â””â”€â”€ Statistics (í†µê³„)
  â”œâ”€â”€ NoticeCreateEditModal (ì‘ì„±/ìˆ˜ì • ëª¨ë‹¬)
  â””â”€â”€ DetailModal (ìƒì„¸ ëª¨ë‹¬)
</MyStudyNoticesPage>
```

---

## ìƒíƒœ ê´€ë¦¬

```jsx
const [activeTab, setActiveTab] = useState('ì „ì²´');
const [searchKeyword, setSearchKeyword] = useState('');
const [isModalOpen, setIsModalOpen] = useState(false);
const [selectedNotice, setSelectedNotice] = useState(null);
const [detailNotice, setDetailNotice] = useState(null);
```

---

## í•„í„°ë§

### íƒ­ í•„í„°

```jsx
const pinnedNotices = notices.filter(n => n.isPinned);
const regularNotices = notices.filter(n => !n.isPinned);

const noticeStats = {
  total: notices.length,
  pinned: pinnedNotices.length,
  important: notices.filter(n => n.isImportant).length,
  regular: notices.filter(n => !n.isImportant && !n.isPinned).length,
};
```

### í•„í„° íƒ­ UI

```jsx
<div className={styles.filterTabs}>
  <button className={activeTab === 'ì „ì²´' ? styles.active : ''}>
    ì „ì²´ {noticeStats.total}
  </button>
  <button className={activeTab === 'ê³ ì •' ? styles.active : ''}>
    ê³ ì • {noticeStats.pinned}
  </button>
  <button className={activeTab === 'ì¤‘ìš”' ? styles.active : ''}>
    ì¤‘ìš” {noticeStats.important}
  </button>
  <button className={activeTab === 'ì¼ë°˜' ? styles.active : ''}>
    ì¼ë°˜ {noticeStats.regular}
  </button>
</div>
```

---

## ì£¼ìš” ê¸°ëŠ¥

### 1. ê¶Œí•œ í™•ì¸

```jsx
const canEdit = () => {
  return ['OWNER', 'ADMIN'].includes(study.myRole);
};
```

### 2. ê³µì§€ ì‚­ì œ

```jsx
const handleDelete = async (noticeId) => {
  if (!confirm('ì •ë§ ì´ ê³µì§€ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;

  try {
    await deleteNotice.mutateAsync({ studyId, noticeId });
    alert('ê³µì§€ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤');
  } catch (error) {
    console.error('ê³µì§€ ì‚­ì œ ì‹¤íŒ¨:', error);
    alert('ê³µì§€ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
  }
};
```

### 3. ê³ ì • í† ê¸€

```jsx
const handleTogglePin = async (noticeId) => {
  try {
    await togglePin.mutateAsync({ studyId, noticeId });
  } catch (error) {
    console.error('ê³ ì • í† ê¸€ ì‹¤íŒ¨:', error);
    alert('ê³ ì • ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
  }
};
```

### 4. ìƒì„¸ ë³´ê¸° (ì¡°íšŒìˆ˜ ì¦ê°€)

```jsx
const handleViewNotice = async (notice) => {
  try {
    // API í˜¸ì¶œë¡œ ì¡°íšŒìˆ˜ ì¦ê°€
    const response = await fetch(`/api/studies/${studyId}/notices/${notice.id}`);
    const result = await response.json();
    
    if (result.success && result.data) {
      // APIì—ì„œ ë°˜í™˜ëœ ë°ì´í„°ë¡œ ëª¨ë‹¬ í‘œì‹œ
      setDetailNotice(result.data);

      // ìºì‹œ ì—…ë°ì´íŠ¸
      queryClient.setQueryData(['studies', studyId, 'notices'], (oldData) => {
        if (!oldData?.data) return oldData;
        return {
          ...oldData,
          data: oldData.data.map(n =>
            n.id === notice.id
              ? { ...n, views: result.data.views }
              : n
          )
        };
      });
    }
  } catch (error) {
    setDetailNotice(notice);
  }
};
```

---

## API Hooks

```jsx
const queryClient = useQueryClient();
const { data: studyData, isLoading: studyLoading } = useStudy(studyId);
const { data: noticesData, isLoading: noticesLoading } = useNotices(studyId);
const deleteNotice = useDeleteNotice();
const togglePin = useTogglePinNotice();
```

---

## ëª¨ë‹¬

### ì‘ì„±/ìˆ˜ì • ëª¨ë‹¬

```jsx
<NoticeCreateEditModal
  isOpen={isModalOpen}
  onClose={() => setIsModalOpen(false)}
  studyId={studyId}
  notice={selectedNotice}  // nullì´ë©´ ìƒì„±, ìˆìœ¼ë©´ ìˆ˜ì •
/>
```

### ìƒì„¸ ëª¨ë‹¬

```jsx
{detailNotice && (
  <div className={styles.detailModal}>
    <div className={styles.modalHeader}>
      <h2>{detailNotice.title}</h2>
      <button onClick={closeDetailModal}>Ã—</button>
    </div>
    <div className={styles.modalContent}>
      <div className={styles.meta}>
        <span>{detailNotice.author.name}</span>
        <span>{formatDate(detailNotice.createdAt)}</span>
        <span>ì¡°íšŒ {detailNotice.views}</span>
      </div>
      <div className={styles.content}>
        {detailNotice.content}
      </div>
    </div>
    {canEdit() && (
      <div className={styles.modalActions}>
        <button onClick={() => {
          setSelectedNotice(detailNotice);
          setIsModalOpen(true);
          closeDetailModal();
        }}>ìˆ˜ì •</button>
        <button onClick={() => handleDelete(detailNotice.id)}>ì‚­ì œ</button>
      </div>
    )}
  </div>
)}
```

---

## ê³µì§€ ì¹´ë“œ

```jsx
<div className={styles.noticeCard}>
  <div className={styles.noticeHeader}>
    {notice.isPinned && <span className={styles.pinBadge}>ğŸ“Œ</span>}
    {notice.isImportant && <span className={styles.importantBadge}>[ì¤‘ìš”]</span>}
    <h3 className={styles.noticeTitle}>{notice.title}</h3>
  </div>
  <div className={styles.noticeMeta}>
    <span>{notice.author.name}</span>
    <span>{formatDate(notice.createdAt)}</span>
    <span>ì¡°íšŒ {notice.views}</span>
  </div>
  {canEdit() && (
    <div className={styles.noticeActions}>
      <button onClick={() => handleTogglePin(notice.id)}>
        {notice.isPinned ? 'ê³ ì •í•´ì œ' : 'ê³ ì •'}
      </button>
      <button onClick={() => {
        setSelectedNotice(notice);
        setIsModalOpen(true);
      }}>ìˆ˜ì •</button>
      <button onClick={() => handleDelete(notice.id)}>ì‚­ì œ</button>
    </div>
  )}
</div>
```

---

## ë¡œë”© ìƒíƒœ

```jsx
if (studyLoading || noticesLoading) {
  return (
    <div className={styles.container}>
      <div className={styles.loading}>ê³µì§€ì‚¬í•­ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
    </div>
  );
}

if (!study) {
  return (
    <div className={styles.container}>
      <div className={styles.error}>ìŠ¤í„°ë””ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div>
    </div>
  );
}
```

---

## ê´€ë ¨ ë¬¸ì„œ

- [README](./README.md)
- [API](./api.md)
- [ì˜ˆì™¸](./exceptions.md)

