# ğŸ“Š ëŒ€ì‹œë³´ë“œ í™”ë©´

## ê°œìš”

ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œëŠ” í”Œë«í¼ì˜ ì „ë°˜ì ì¸ í˜„í™©ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆëŠ” í™”ë©´ì…ë‹ˆë‹¤.

- **ê²½ë¡œ**: `/admin`
- **íŒŒì¼**: `app/admin/page.jsx`
- **íƒ€ì…**: Client Component

---

## í™”ë©´ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ëŒ€ì‹œë³´ë“œ                                               â”‚
â”‚  í”Œë«í¼ í˜„í™©ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ì´ ì‚¬ìš©ì â”‚ â”‚ í™œì„±    â”‚ â”‚ ì²˜ë¦¬ ëŒ€ê¸° â”‚ â”‚ ì‹ ê·œ ê°€ì…â”‚       â”‚
â”‚  â”‚  1,234ëª… â”‚ â”‚ ìŠ¤í„°ë””   â”‚ â”‚  12ê±´    â”‚ â”‚  56ëª…   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    ìµœê·¼ í™œë™                   â”‚    ë¹ ë¥¸ ì‘ì—…             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ ìƒˆë¡œìš´ ì‚¬ìš©ì ê°€ì…  â”‚     â”‚    â”‚ ì‚¬ìš©ì ì¶”ê°€     â”‚  â”‚
â”‚    â”‚ ìƒˆë¡œìš´ ì‹ ê³  ì ‘ìˆ˜    â”‚     â”‚    â”‚ ìŠ¤í„°ë”” ìƒì„±     â”‚  â”‚
â”‚    â”‚ ê²½ê³  ë¶€ì—¬          â”‚     â”‚    â”‚ ì‹ ê³  ì²˜ë¦¬       â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚    â”‚ ë°ì´í„° ë‚´ë³´ë‚´ê¸°  â”‚  â”‚
â”‚                              â”‚    â”‚ ì„¤ì •            â”‚  â”‚
â”‚                              â”‚    â”‚ í†µê³„ ë³´ê¸°       â”‚  â”‚
â”‚                              â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì£¼ìš” íŒŒì¼

| íŒŒì¼ | ì„¤ëª… |
|------|------|
| `page.jsx` | ëŒ€ì‹œë³´ë“œ ë©”ì¸ í˜ì´ì§€ |
| `page.module.css` | ìŠ¤íƒ€ì¼ì‹œíŠ¸ |
| `_components/StatsCards.jsx` | í†µê³„ ì¹´ë“œ (ëŒ€ì²´ìš©) |
| `_components/RecentActivity.jsx` | ìµœê·¼ í™œë™ íƒ€ì„ë¼ì¸ |
| `_components/QuickActions.jsx` | ë¹ ë¥¸ ì‘ì—… ë²„íŠ¼ |

---

## ë©”ì¸ ì»´í¬ë„ŒíŠ¸

### `page.jsx`

```jsx
'use client'

import { useEffect, useState } from 'react'
import { useSession } from 'next-auth/react'
import { useRouter } from 'next/navigation'
import StatCard from '@/components/admin/ui/Stats'
import RecentActivity from './_components/RecentActivity'
import QuickActions from './_components/QuickActions'
import api from '@/lib/api'

export default function AdminDashboardPage() {
  const { status } = useSession()
  const router = useRouter()
  const [stats, setStats] = useState(null)
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState(null)

  useEffect(() => {
    if (status === 'authenticated') {
      fetchStats()
    }
  }, [status])

  async function fetchStats() {
    const result = await api.get('/api/admin/stats')
    setStats(result.success ? result.data : null)
  }

  // ë¡œë”©, ì—ëŸ¬, ë°ì´í„° ë Œë”ë§...
}
```

**ì£¼ìš” ê¸°ëŠ¥:**
- ì„¸ì…˜ ìƒíƒœì— ë”°ë¥¸ ë°ì´í„° ë¡œë”©
- í†µê³„ API í˜¸ì¶œ ë° ìƒíƒœ ê´€ë¦¬
- ë¡œë”©/ì—ëŸ¬ ìƒíƒœ UI í‘œì‹œ

---

## í†µê³„ ì¹´ë“œ

### StatCard ì»´í¬ë„ŒíŠ¸

```jsx
<StatCard
  title="ì´ ì‚¬ìš©ì"
  value={totalUsers}
  unit="ëª…"
  icon={<UserIcon />}
  iconColor="primary"
  countUp              // ìˆ«ì ì• ë‹ˆë©”ì´ì…˜
  onClick={() => router.push('/admin/users')}
/>
```

**Props:**

| Prop | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `title` | string | ì¹´ë“œ ì œëª© |
| `value` | number | í‘œì‹œí•  ê°’ |
| `unit` | string | ë‹¨ìœ„ (ëª…, ê°œ, ê±´) |
| `icon` | ReactNode | ì•„ì´ì½˜ SVG |
| `iconColor` | string | ì•„ì´ì½˜ ìƒ‰ìƒ í…Œë§ˆ |
| `countUp` | boolean | ì¹´ìš´íŠ¸ì—… ì• ë‹ˆë©”ì´ì…˜ |
| `loading` | boolean | ë¡œë”© ìƒíƒœ |
| `onClick` | function | í´ë¦­ í•¸ë“¤ëŸ¬ |

### í‘œì‹œ í†µê³„

| ì¹´ë“œ | ë°ì´í„° ê²½ë¡œ | ì„¤ëª… |
|------|------------|------|
| ì´ ì‚¬ìš©ì | `summary.users.total` | ì „ì²´ ì‚¬ìš©ì ìˆ˜ |
| í™œì„± ìŠ¤í„°ë”” | `summary.studies.active` | ëª¨ì§‘ ì¤‘ì¸ ìŠ¤í„°ë”” ìˆ˜ |
| ì²˜ë¦¬ ëŒ€ê¸° | `summary.reports.pending` | ëŒ€ê¸° ì¤‘ì¸ ì‹ ê³  ê±´ìˆ˜ |
| ì‹ ê·œ ê°€ì… | `summary.users.newThisWeek` | ì´ë²ˆ ì£¼ ì‹ ê·œ ê°€ì…ì |

---

## ìµœê·¼ í™œë™ ì»´í¬ë„ŒíŠ¸

### `_components/RecentActivity.jsx`

```jsx
export default function RecentActivity({ activity }) {
  const activityList = buildActivityList(activity)
  
  return (
    <Card variant="outlined">
      <CardHeader>
        <h3>ìµœê·¼ í™œë™</h3>
        <Link href="/admin/audit-logs">
          <Button size="sm" variant="ghost">ì „ì²´ë³´ê¸°</Button>
        </Link>
      </CardHeader>
      <CardContent>
        <div className={styles.timeline}>
          {activityList.map((item) => (
            <TimelineItem key={item.id} item={item} />
          ))}
        </div>
      </CardContent>
    </Card>
  )
}
```

### í™œë™ íƒ€ì…

| íƒ€ì… | ì•„ì´ì½˜ | ì„¤ëª… |
|------|--------|------|
| `USER_CREATED` | ğŸ‘¤ | ìƒˆë¡œìš´ ì‚¬ìš©ì ê°€ì… |
| `STUDY_CREATED` | ğŸ“š | ìƒˆë¡œìš´ ìŠ¤í„°ë”” ìƒì„± |
| `REPORT_CREATED` | âš ï¸ | ìƒˆë¡œìš´ ì‹ ê³  ì ‘ìˆ˜ |
| `WARNING` | ğŸ”” | ê²½ê³  ë¶€ì—¬ |
| `PAYMENT` | ğŸ’³ | ê²°ì œ (ë¯¸ì‚¬ìš©) |

### í™œë™ ë°ì´í„° êµ¬ì¡°

```javascript
{
  id: 'user-123',
  type: 'USER_CREATED',
  title: 'ìƒˆë¡œìš´ ì‚¬ìš©ì ê°€ì…',
  description: 'user@example.com',
  createdAt: '2024-12-14T10:00:00Z',
  user: {
    name: 'í™ê¸¸ë™',
    avatar: '/avatar.jpg',
    email: 'user@example.com'
  },
  badge: {
    variant: 'success',
    label: 'ì •ìƒ'
  }
}
```

---

## ë¹ ë¥¸ ì‘ì—… ì»´í¬ë„ŒíŠ¸

### `_components/QuickActions.jsx`

```jsx
export default function QuickActions() {
  const router = useRouter()

  const actions = [
    {
      icon: <UserAddIcon />,
      label: 'ì‚¬ìš©ì ì¶”ê°€',
      description: 'ìƒˆ ì‚¬ìš©ì ë“±ë¡',
      color: { bg: 'var(--pastel-purple-100)', fg: 'var(--pastel-purple-600)' },
      onClick: () => router.push('/admin/users/new'),
    },
    // ...
  ]

  return (
    <Card variant="outlined">
      <CardHeader><h3>ë¹ ë¥¸ ì‘ì—…</h3></CardHeader>
      <CardContent>
        <div className={styles.actions}>
          {actions.map((action, index) => (
            <ActionButton key={index} {...action} />
          ))}
        </div>
      </CardContent>
    </Card>
  )
}
```

### ë¹ ë¥¸ ì‘ì—… ëª©ë¡

| ì‘ì—… | ì„¤ëª… | ì´ë™ ê²½ë¡œ |
|------|------|----------|
| ì‚¬ìš©ì ì¶”ê°€ | ìƒˆ ì‚¬ìš©ì ë“±ë¡ | `/admin/users/new` |
| ìŠ¤í„°ë”” ìƒì„± | ìƒˆ ìŠ¤í„°ë”” ê°œì„¤ | `/admin/studies/new` |
| ì‹ ê³  ì²˜ë¦¬ | ëŒ€ê¸°ì¤‘ì¸ ì‹ ê³  í™•ì¸ | `/admin/reports` |
| ë°ì´í„° ë‚´ë³´ë‚´ê¸° | CSV íŒŒì¼ ìƒì„± | ì¤€ë¹„ ì¤‘ |
| ì„¤ì • | ì‹œìŠ¤í…œ ì„¤ì • ê´€ë¦¬ | `/admin/settings` |
| í†µê³„ ë³´ê¸° | ìƒì„¸ ë¶„ì„ ë°ì´í„° | `/admin/analytics` |

---

## API í˜¸ì¶œ

### `/api/admin/stats`

**ìš”ì²­:**
```
GET /api/admin/stats
```

**ì‘ë‹µ:**
```json
{
  "success": true,
  "data": {
    "summary": {
      "users": {
        "total": 1234,
        "active": 1100,
        "suspended": 34,
        "newToday": 12,
        "newThisWeek": 56
      },
      "studies": {
        "total": 456,
        "active": 320,
        "newToday": 5,
        "newThisWeek": 23
      },
      "reports": {
        "total": 89,
        "pending": 12,
        "urgent": 2,
        "newToday": 3
      },
      "moderation": {
        "totalWarnings": 45,
        "warningsToday": 2,
        "activeSanctions": 8
      }
    },
    "recentActivity": {
      "users": [...],
      "reports": [...],
      "warnings": [...]
    },
    "trends": {
      "userGrowth": [...],
      "reportTrends": [...]
    }
  }
}
```

---

## ìŠ¤íƒ€ì¼ë§

### CSS ë³€ìˆ˜ í™œìš©

```css
.statsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--spacing-md);
}

.grid {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: var(--spacing-lg);
}

@media (max-width: 1024px) {
  .grid {
    grid-template-columns: 1fr;
  }
}
```

---

## ì—ëŸ¬ ì²˜ë¦¬

### ë¡œë”© ìƒíƒœ

```jsx
if (status === 'loading' || loading) {
  return (
    <div className={styles.statsGrid}>
      {[1, 2, 3, 4].map((i) => (
        <StatCard key={i} title="ë¡œë”© ì¤‘..." value={0} loading />
      ))}
    </div>
  )
}
```

### ì—ëŸ¬ ìƒíƒœ

```jsx
if (error) {
  return (
    <Card variant="outlined">
      <CardContent>
        <div className={styles.error}>
          <ErrorIcon />
          <h3>í†µê³„ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h3>
          <p>{error}</p>
          <Button onClick={fetchStats} variant="primary">
            ë‹¤ì‹œ ì‹œë„
          </Button>
        </div>
      </CardContent>
    </Card>
  )
}
```

