# ğŸ® ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜ ì‹œìŠ¤í…œ

## ê°œìš”

í¬ì¸íŠ¸, ë ˆë²¨, ë±ƒì§€, ë­í‚¹ ë“± ê²Œì„ ìš”ì†Œë¥¼ ë„ì…í•˜ì—¬
ì‚¬ìš©ìì˜ í•™ìŠµ ë™ê¸°ë¥¼ ë¶€ì—¬í•˜ê³  ì§€ì†ì ì¸ ì°¸ì—¬ë¥¼ ìœ ë„í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

---

## ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ê²½í—˜ì¹˜(XP) | í™œë™ì— ë”°ë¥¸ ê²½í—˜ì¹˜ íšë“ |
| ë ˆë²¨ ì‹œìŠ¤í…œ | ê²½í—˜ì¹˜ ê¸°ë°˜ ë ˆë²¨ì—… |
| ë±ƒì§€ | íŠ¹ì • ì—…ì  ë‹¬ì„± ì‹œ ë±ƒì§€ íšë“ |
| í¬ì¸íŠ¸ | í™œë™ í¬ì¸íŠ¸ (ë³´ìƒ êµí™˜ìš©) |
| ìŠ¤íŠ¸ë¦­ | ì—°ì† í™œë™ ì¼ìˆ˜ |
| ë¦¬ë”ë³´ë“œ | ë‹¤ì–‘í•œ ê¸°ì¤€ ë­í‚¹ |
| ì±Œë¦°ì§€ | ê¸°ê°„ í•œì • ë¯¸ì…˜ |
| ë³´ìƒ ìƒì  | í¬ì¸íŠ¸ë¡œ ì•„ì´í…œ êµí™˜ |
| ì‹œì¦Œ | ì‹œì¦Œë³„ ë­í‚¹ ë¦¬ì…‹ |

---

## ê²½í—˜ì¹˜(XP) íšë“ ì¡°ê±´

### ì¼ë°˜ í™œë™

| í™œë™ | XP | ì¼ì¼ í•œë„ |
|------|-----|----------|
| ì¶œì„ ì²´í¬ | 10 | 1íšŒ |
| ì±„íŒ… ë©”ì‹œì§€ | 1 | 50 |
| íŒŒì¼ ì—…ë¡œë“œ | 5 | 10 |
| ê³µì§€ì‚¬í•­ í™•ì¸ | 2 | - |
| ì¼ì • ì°¸ì—¬ | 10 | - |

### í•™ìŠµ í™œë™

| í™œë™ | XP | ì¡°ê±´ |
|------|-----|------|
| ê³µë¶€ íƒ€ì´ë¨¸ 30ë¶„ | 15 | - |
| ê³µë¶€ íƒ€ì´ë¨¸ 1ì‹œê°„ | 35 | - |
| í€´ì¦ˆ ì™„ë£Œ | 20 | - |
| í€´ì¦ˆ ë§Œì  | +30 | ë§Œì  ì‹œ ë³´ë„ˆìŠ¤ |
| ì˜¤ë‹µ ë³µìŠµ | 10 | - |

### í˜‘ì—… í™œë™

| í™œë™ | XP | ì¡°ê±´ |
|------|-----|------|
| ë…¸íŠ¸ ì‘ì„± | 15 | - |
| ë…¸íŠ¸ í˜‘ì—… | 20 | ë‹¤ë¥¸ ì‚¬ëŒê³¼ í•¨ê»˜ |
| ëŒ“ê¸€ ì‘ì„± | 3 | - |
| ë¬¸ì œ í’€ì´ ê³µìœ  | 25 | - |

### ë³´ë„ˆìŠ¤

| ì¡°ê±´ | ë³´ë„ˆìŠ¤ |
|------|--------|
| ì²« í™œë™ | +50% |
| ìŠ¤íŠ¸ë¦­ 7ì¼ | +10% |
| ìŠ¤íŠ¸ë¦­ 30ì¼ | +20% |
| ì£¼ë§ í™œë™ | +5% |

---

## ë ˆë²¨ ì‹œìŠ¤í…œ

### ë ˆë²¨ êµ¬ê°„

| ë ˆë²¨ | í•„ìš” XP | ëˆ„ì  XP | ì¹­í˜¸ |
|------|--------|---------|------|
| 1 | 0 | 0 | ìƒˆì‹¹ |
| 2 | 100 | 100 | í•™ìŠµì |
| 3 | 200 | 300 | íƒí—˜ê°€ |
| 4 | 400 | 700 | ë„ì „ì |
| 5 | 700 | 1,400 | í•™ì |
| 6 | 1,000 | 2,400 | ì—°êµ¬ì› |
| 7 | 1,500 | 3,900 | ì „ë¬¸ê°€ |
| 8 | 2,000 | 5,900 | ë§ˆìŠ¤í„° |
| 9 | 3,000 | 8,900 | ê·¸ëœë“œë§ˆìŠ¤í„° |
| 10 | 5,000 | 13,900 | ë ˆì „ë“œ |

### ë ˆë²¨ì—… í˜œíƒ

| ë ˆë²¨ | í˜œíƒ |
|------|------|
| 3 | í”„ë¡œí•„ í…Œë‘ë¦¬ ì„ íƒ ê°€ëŠ¥ |
| 5 | íŠ¹ë³„ ì´ëª¨ì§€ ì‚¬ìš© |
| 7 | ìŠ¤í„°ë”” ìƒì„± ì‹œ ì¶”ì²œ ë…¸ì¶œ ì¦ê°€ |
| 10 | ë ˆì „ë“œ ë±ƒì§€, íŠ¹ë³„ í”„ë¡œí•„ íš¨ê³¼ |

---

## ë±ƒì§€ ì‹œìŠ¤í…œ

### ë±ƒì§€ ì¹´í…Œê³ ë¦¬

#### ğŸ¯ í•™ìŠµ ë±ƒì§€

| ë±ƒì§€ | ì¡°ê±´ | í¬ê·€ë„ |
|------|------|--------|
| ì²« ë°œìêµ­ | ì²« ê³µë¶€ ì„¸ì…˜ ì™„ë£Œ | Common |
| 1ì‹œê°„ì˜ ì§‘ì¤‘ | í•œ ì„¸ì…˜ 1ì‹œê°„ ë‹¬ì„± | Common |
| ê³µë¶€ì˜ ë‹¬ì¸ | ëˆ„ì  100ì‹œê°„ ê³µë¶€ | Rare |
| ë§Œì ì™• | í€´ì¦ˆ 10íšŒ ë§Œì  | Rare |
| í•™ìŠµ ë§ˆë¼í† ë„ˆ | í•˜ë£¨ 8ì‹œê°„ ê³µë¶€ | Epic |
| ì²œ ì‹œê°„ì˜ ë²•ì¹™ | ëˆ„ì  1000ì‹œê°„ ê³µë¶€ | Legendary |

#### ğŸ¤ í˜‘ì—… ë±ƒì§€

| ë±ƒì§€ | ì¡°ê±´ | í¬ê·€ë„ |
|------|------|--------|
| í˜‘ì—…ì˜ ì‹œì‘ | ì²« í˜‘ì—… ë…¸íŠ¸ ì°¸ì—¬ | Common |
| í† ë¡ ì™• | ëŒ“ê¸€ 100ê°œ ì‘ì„± | Rare |
| ë¬¸ì œ í•´ê²°ì‚¬ | ë‹¤ë¥¸ ì‚¬ëŒ ì§ˆë¬¸ 50ê°œ ë‹µë³€ | Epic |
| ìŠ¤í„°ë”” ë¦¬ë” | ìŠ¤í„°ë””ì¥ìœ¼ë¡œ 3ê°œì›” í™œë™ | Legendary |

#### ğŸ“† ê¾¸ì¤€í•¨ ë±ƒì§€

| ë±ƒì§€ | ì¡°ê±´ | í¬ê·€ë„ |
|------|------|--------|
| ì¼ì£¼ì¼ ìŠ¤íŠ¸ë¦­ | 7ì¼ ì—°ì† í™œë™ | Common |
| í•œ ë‹¬ ìŠ¤íŠ¸ë¦­ | 30ì¼ ì—°ì† í™œë™ | Rare |
| 100ì¼ ìŠ¤íŠ¸ë¦­ | 100ì¼ ì—°ì† í™œë™ | Epic |
| 1ë…„ ìŠ¤íŠ¸ë¦­ | 365ì¼ ì—°ì† í™œë™ | Legendary |

#### ğŸ† íŠ¹ë³„ ë±ƒì§€

| ë±ƒì§€ | ì¡°ê±´ | í¬ê·€ë„ |
|------|------|--------|
| ì´ˆê¸° ë©¤ë²„ | ì„œë¹„ìŠ¤ ì´ˆê¸° ê°€ì… | Epic |
| ì‹œì¦Œ 1 ì±”í”¼ì–¸ | ì‹œì¦Œ 1 ë­í‚¹ 1ìœ„ | Legendary |
| ë²„ê·¸ í—Œí„° | ìœ íš¨í•œ ë²„ê·¸ ì œë³´ | Epic |

---

## ë°ì´í„° ëª¨ë¸

### UserGameProfile (ê²Œì„ í”„ë¡œí•„)

```prisma
model UserGameProfile {
  id     String @id @default(cuid())
  userId String @unique
  
  // ê²½í—˜ì¹˜ & ë ˆë²¨
  totalXp    Int @default(0)
  level      Int @default(1)
  currentXp  Int @default(0)  // í˜„ì¬ ë ˆë²¨ ë‚´ XP
  
  // í¬ì¸íŠ¸
  points      Int @default(0)
  totalPoints Int @default(0)  // ëˆ„ì  íšë“
  
  // ìŠ¤íŠ¸ë¦­
  currentStreak Int       @default(0)
  longestStreak Int       @default(0)
  lastActiveAt  DateTime?
  
  // í†µê³„
  totalStudyTime   Int @default(0)  // ë¶„ ë‹¨ìœ„
  quizzesTaken     Int @default(0)
  quizzesPerfect   Int @default(0)
  notesCreated     Int @default(0)
  messagesCount    Int @default(0)
  
  updatedAt DateTime @updatedAt
  
  user User @relation(fields: [userId], references: [id], onDelete: Cascade)
  badges UserBadge[]
}
```

### Badge (ë±ƒì§€)

```prisma
model Badge {
  id          String      @id @default(cuid())
  code        String      @unique  // "FIRST_STUDY", "STREAK_7" ë“±
  name        String
  description String
  iconUrl     String
  rarity      BadgeRarity
  category    String      // "í•™ìŠµ", "í˜‘ì—…", "ê¾¸ì¤€í•¨", "íŠ¹ë³„"
  
  // ìë™ íšë“ ì¡°ê±´
  condition   Json?       // ìë™ ì²´í¬ìš© ì¡°ê±´
  
  createdAt DateTime @default(now())
  
  users UserBadge[]
}

enum BadgeRarity {
  COMMON
  RARE
  EPIC
  LEGENDARY
}
```

### UserBadge (ì‚¬ìš©ì ë±ƒì§€)

```prisma
model UserBadge {
  id       String @id @default(cuid())
  userId   String
  badgeId  String
  
  earnedAt  DateTime @default(now())
  displayed Boolean  @default(false)  // í”„ë¡œí•„ì— í‘œì‹œ
  
  userProfile UserGameProfile @relation(fields: [userId], references: [userId], onDelete: Cascade)
  badge       Badge           @relation(fields: [badgeId], references: [id])
  
  @@unique([userId, badgeId])
}
```

### XpTransaction (XP ì´ë ¥)

```prisma
model XpTransaction {
  id     String @id @default(cuid())
  userId String
  
  amount   Int
  reason   String      // "ì¶œì„ì²´í¬", "í€´ì¦ˆ ì™„ë£Œ" ë“±
  category String      // "attendance", "quiz", "study" ë“±
  metadata Json?       // ì¶”ê°€ ì •ë³´
  
  createdAt DateTime @default(now())
  
  user User @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  @@index([userId, createdAt])
  @@index([category])
}
```

### Challenge (ì±Œë¦°ì§€)

```prisma
model Challenge {
  id          String          @id @default(cuid())
  title       String
  description String          @db.Text
  type        ChallengeType
  
  // ëª©í‘œ
  goal        Json            // { "type": "studyTime", "value": 600 }
  reward      Json            // { "xp": 500, "points": 100, "badge": "..." }
  
  // ê¸°ê°„
  startDate   DateTime
  endDate     DateTime
  
  // ìƒíƒœ
  status      ChallengeStatus @default(ACTIVE)
  
  createdAt DateTime @default(now())
  
  participants ChallengeParticipant[]
}

enum ChallengeType {
  PERSONAL  // ê°œì¸ ì±Œë¦°ì§€
  STUDY     // ìŠ¤í„°ë”” ì±Œë¦°ì§€
  GLOBAL    // ì „ì²´ ì±Œë¦°ì§€
}

enum ChallengeStatus {
  UPCOMING
  ACTIVE
  ENDED
}
```

### ChallengeParticipant (ì±Œë¦°ì§€ ì°¸ê°€ì)

```prisma
model ChallengeParticipant {
  id          String @id @default(cuid())
  challengeId String
  userId      String
  studyId     String?  // ìŠ¤í„°ë”” ì±Œë¦°ì§€ì¸ ê²½ìš°
  
  progress   Int     @default(0)  // ì§„í–‰ë„
  completed  Boolean @default(false)
  completedAt DateTime?
  
  joinedAt DateTime @default(now())
  
  challenge Challenge @relation(fields: [challengeId], references: [id], onDelete: Cascade)
  user      User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  @@unique([challengeId, userId])
}
```

### Leaderboard (ë¦¬ë”ë³´ë“œ ìºì‹œ)

```prisma
model Leaderboard {
  id       String          @id @default(cuid())
  type     LeaderboardType
  period   String          // "2024-12", "2024-W50", "all"
  studyId  String?         // ìŠ¤í„°ë”” ë‚´ ë­í‚¹
  
  rankings Json            // [{ userId, rank, score, change }]
  
  updatedAt DateTime @updatedAt
  
  @@unique([type, period, studyId])
}

enum LeaderboardType {
  XP           // ê²½í—˜ì¹˜
  STUDY_TIME   // ê³µë¶€ ì‹œê°„
  QUIZ_SCORE   // í€´ì¦ˆ ì ìˆ˜
  STREAK       // ìŠ¤íŠ¸ë¦­
  POINTS       // í¬ì¸íŠ¸
}
```

---

## API ì—”ë“œí¬ì¸íŠ¸

### ê²Œì„ í”„ë¡œí•„

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/gamification/profile` | ë‚´ ê²Œì„ í”„ë¡œí•„ |
| GET | `/api/gamification/profile/[userId]` | íŠ¹ì • ì‚¬ìš©ì í”„ë¡œí•„ |
| GET | `/api/gamification/xp-history` | XP íšë“ ì´ë ¥ |

### ë±ƒì§€

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/gamification/badges` | ì „ì²´ ë±ƒì§€ ëª©ë¡ |
| GET | `/api/gamification/badges/mine` | ë‚´ ë±ƒì§€ |
| PATCH | `/api/gamification/badges/[id]/display` | í‘œì‹œ ì„¤ì • |

### ë¦¬ë”ë³´ë“œ

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/gamification/leaderboard` | ì „ì²´ ë¦¬ë”ë³´ë“œ |
| GET | `/api/gamification/leaderboard/study/[id]` | ìŠ¤í„°ë”” ë¦¬ë”ë³´ë“œ |
| GET | `/api/gamification/leaderboard/friends` | ì¹œêµ¬ ë¦¬ë”ë³´ë“œ |

### ì±Œë¦°ì§€

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/gamification/challenges` | ì±Œë¦°ì§€ ëª©ë¡ |
| POST | `/api/gamification/challenges/[id]/join` | ì±Œë¦°ì§€ ì°¸ê°€ |
| GET | `/api/gamification/challenges/[id]/progress` | ì§„í–‰ ìƒí™© |

---

## ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
src/components/gamification/
â”œâ”€â”€ GameProfile.jsx        # ê²Œì„ í”„ë¡œí•„ ì¹´ë“œ
â”œâ”€â”€ LevelProgress.jsx      # ë ˆë²¨/XP í”„ë¡œê·¸ë ˆìŠ¤
â”œâ”€â”€ XpGainPopup.jsx        # XP íšë“ íŒì—…
â”œâ”€â”€ BadgeGrid.jsx          # ë±ƒì§€ ê·¸ë¦¬ë“œ
â”œâ”€â”€ BadgeCard.jsx          # ë±ƒì§€ ì¹´ë“œ
â”œâ”€â”€ BadgeUnlockModal.jsx   # ë±ƒì§€ íšë“ ëª¨ë‹¬
â”œâ”€â”€ StreakCounter.jsx      # ìŠ¤íŠ¸ë¦­ ì¹´ìš´í„°
â”œâ”€â”€ Leaderboard.jsx        # ë¦¬ë”ë³´ë“œ
â”œâ”€â”€ LeaderboardItem.jsx    # ë­í‚¹ ì•„ì´í…œ
â”œâ”€â”€ ChallengeList.jsx      # ì±Œë¦°ì§€ ëª©ë¡
â”œâ”€â”€ ChallengeCard.jsx      # ì±Œë¦°ì§€ ì¹´ë“œ
â”œâ”€â”€ ChallengeProgress.jsx  # ì±Œë¦°ì§€ ì§„í–‰ë„
â”œâ”€â”€ RewardShop.jsx         # ë³´ìƒ ìƒì 
â”œâ”€â”€ PointsDisplay.jsx      # í¬ì¸íŠ¸ í‘œì‹œ
â””â”€â”€ index.js
```

---

## í˜ì´ì§€ êµ¬ì¡°

| ê²½ë¡œ | URL | ì„¤ëª… |
|------|-----|------|
| `src/app/rewards/page.jsx` | `/rewards` | ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜ ë©”ì¸ |
| `src/app/rewards/badges/page.jsx` | `/rewards/badges` | ë±ƒì§€ ê°¤ëŸ¬ë¦¬ |
| `src/app/rewards/leaderboard/page.jsx` | `/rewards/leaderboard` | ë¦¬ë”ë³´ë“œ |
| `src/app/rewards/challenges/page.jsx` | `/rewards/challenges` | ì±Œë¦°ì§€ |
| `src/app/rewards/shop/page.jsx` | `/rewards/shop` | ë³´ìƒ ìƒì  |

---

## UI/UX ì„¤ê³„

### XP íšë“ ì• ë‹ˆë©”ì´ì…˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    âœ¨ +25 XP              â”‚
â”‚    í€´ì¦ˆ ì™„ë£Œ!              â”‚
â”‚                           â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 70%    â”‚
â”‚  ë ˆë²¨ 5ê¹Œì§€ 230 XP        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë±ƒì§€ íšë“ ëª¨ë‹¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ‰ ìƒˆ ë±ƒì§€ íšë“!           â”‚
â”‚                                   â”‚
â”‚           [ğŸ† ì•„ì´ì½˜]              â”‚
â”‚                                   â”‚
â”‚         "ì¼ì£¼ì¼ ìŠ¤íŠ¸ë¦­"            â”‚
â”‚       7ì¼ ì—°ì† í™œë™ ë‹¬ì„±!          â”‚
â”‚                                   â”‚
â”‚        [í”„ë¡œí•„ì— í‘œì‹œ] [ë‹«ê¸°]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## êµ¬í˜„ ìš°ì„ ìˆœìœ„

1. **Phase 1**: XP ì‹œìŠ¤í…œ, ë ˆë²¨
2. **Phase 2**: ê¸°ë³¸ ë±ƒì§€ (10ê°œ)
3. **Phase 3**: ë¦¬ë”ë³´ë“œ
4. **Phase 4**: ìŠ¤íŠ¸ë¦­
5. **Phase 5**: ì±Œë¦°ì§€
6. **Phase 6**: ë³´ìƒ ìƒì , ì¶”ê°€ ë±ƒì§€

---

## ê´€ë ¨ ë¬¸ì„œ

- [23-study-timer](../23-study-timer/README.md) - ê³µë¶€ ì‹œê°„ ì—°ë™
- [24-quiz-system](../24-quiz-system/README.md) - í€´ì¦ˆ ì ìˆ˜ ì—°ë™
- [21-friends](../21-friends/README.md) - ì¹œêµ¬ ë­í‚¹

