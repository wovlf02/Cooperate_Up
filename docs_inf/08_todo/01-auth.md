# 01. 인증 도메인 (Auth) TODO

> **Phase**: 1단계  
> **우선순위**: 🔴 최우선 (앱 진입점)

## 📊 진행 상황

**진행률**: 100% ✅ 완료

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
██████████████████████████████████████████████████ 100%
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### ✅ 완료된 항목

#### 화면 구현
- ✅ `LoginScreen.tsx` - 로그인 화면
- ✅ `RegisterScreen.tsx` - 회원가입 화면
- ✅ `ForgotPasswordScreen.tsx` - 비밀번호 재설정 화면

#### 네비게이션
- ✅ `AuthNavigator.tsx` - 인증 스택 네비게이터
- ✅ 인증 상태 관리 (Redux)
- ✅ 토큰 기반 인증 (EncryptedStorage)

#### API 연동
- ✅ 로그인 API (`authApi.login`)
- ✅ 회원가입 API (`authApi.register`)
- ✅ 비밀번호 재설정 API

#### 유효성 검증
- ✅ 이메일 검증
- ✅ 비밀번호 강도 검증
- ✅ 전화번호 검증
- ✅ 사업자등록번호 검증 (사업주)

### ⏳ 개선 가능 항목 (선택사항)

#### UX 개선
- ✅ 비밀번호 표시/숨김 토글 (`PasswordInput` 컴포넌트 필요)
- ✅ 비밀번호 강도 표시 (약함/보통/강함)
- [ ] 소셜 로그인 (카카오, 네이버, 구글)
- [ ] 자동 로그인 (Remember Me)
- [ ] 생체 인증 (지문, Face ID)

#### 보안 강화
- [ ] 로그인 실패 횟수 제한
- [ ] CAPTCHA 추가
- [ ] 2단계 인증 (2FA)
- [ ] 비밀번호 만료 정책

#### 에러 처리
- [ ] 네트워크 오류 처리 개선
- [ ] 서버 오류 처리 개선
- [ ] Retry 메커니즘

---

## 📱 화면 목록

| 화면 | 파일 | 상태 | 설명 |
|------|------|------|------|
| 로그인 | `LoginScreen.tsx` | ✅ 완료 | 사용자명/비밀번호 로그인 |
| 회원가입 | `RegisterScreen.tsx` | ✅ 완료 | 직원/사업주 구분 회원가입 |
| 비밀번호 재설정 | `ForgotPasswordScreen.tsx` | ✅ 완료 | 이메일 인증 기반 재설정 |

---

## 🔐 인증 플로우

### 로그인 플로우
```
LoginScreen
    │
    ├─→ 로그인 성공 → 토큰 저장 → 사업장 선택 → 홈
    │
    └─→ 로그인 실패 → 에러 메시지 표시
```

### 회원가입 플로우
```
RegisterScreen
    │
    ├─→ 직원 회원가입 → 기본 정보 입력 → 완료
    │
    └─→ 사업주 회원가입 → 기본 정보 + 사업자번호 → 완료
```

### 비밀번호 재설정 플로우
```
ForgotPasswordScreen
    │
    └─→ 이메일 입력 → 인증 메일 발송 → 완료
```

---

## 🎨 화면 상세

### 1. LoginScreen.tsx
**파일 위치**: `front/src/screens/auth/LoginScreen.tsx`

**구현된 기능**:
- ✅ 사용자명/비밀번호 입력
- ✅ 로그인 버튼 (로딩 상태 처리)
- ✅ 비밀번호 찾기 링크
- ✅ 회원가입 링크
- ✅ 유효성 검증
- ✅ 에러 메시지 표시
- ✅ 키보드 회피 처리
- ✅ 토큰 저장 (EncryptedStorage)

**개선 가능 항목**:
- [ ] 비밀번호 표시/숨김 아이콘
- [ ] 자동 로그인 체크박스
- [ ] 소셜 로그인 버튼
- [ ] 로딩 오버레이 (전체 화면)

**예상 개선 시간**: 2-3시간

---

### 2. RegisterScreen.tsx
**파일 위치**: `front/src/screens/auth/RegisterScreen.tsx`

**구현된 기능**:
- ✅ 역할 선택 (직원/사업주)
- ✅ 기본 정보 입력 (이름, 사용자명, 이메일, 비밀번호, 전화번호)
- ✅ 사업자 정보 입력 (사업주만)
- ✅ 유효성 검증
- ✅ 회원가입 API 연동
- ✅ 에러 처리
- ✅ 키보드 회피 처리

**개선 가능 항목**:
- ✅ 비밀번호 확인 필드
- ✅ 비밀번호 강도 표시기
- ✅ 약관 동의 체크박스
- [ ] 프로필 이미지 업로드
- [ ] 인증번호 발송/확인 (이메일, SMS)

**예상 개선 시간**: 3-4시간

---

### 3. ForgotPasswordScreen.tsx
**파일 위치**: `front/src/screens/auth/ForgotPasswordScreen.tsx`

**구현된 기능**:
- ✅ 이메일 입력
- ✅ 인증 메일 발송
- ✅ 발송 완료 메시지
- ✅ 유효성 검증
- ✅ 에러 처리

**개선 가능 항목**:
- [ ] 인증 코드 입력 화면 추가
- [ ] 새 비밀번호 설정 화면 추가
- [ ] 재발송 버튼 (타이머)
- [ ] SMS 인증 옵션

**예상 개선 시간**: 2-3시간

---

## 🔧 필요한 컴포넌트

### 현재 사용 중
- ✅ `Button` - 기본 버튼
- ✅ `Input` - 텍스트 입력

### 추가 필요 (선택사항)
- [ ] `PasswordInput` - 비밀번호 입력 (표시/숨김 토글)
- [ ] `Checkbox` - 약관 동의, 자동 로그인
- [ ] `PasswordStrengthMeter` - 비밀번호 강도 표시
- [ ] `OTPInput` - 인증 코드 입력
- [ ] `SocialLoginButton` - 소셜 로그인 버튼

---

## 🎯 우선순위 작업 (선택사항)

### Phase 1: 필수 개선 (1일)
1. PasswordInput 컴포넌트 생성
2. 비밀번호 확인 필드 추가 (RegisterScreen)
3. 약관 동의 체크박스 추가 (RegisterScreen)

### Phase 2: 보안 강화 (1일)
1. 비밀번호 강도 표시기
2. 로그인 실패 횟수 제한
3. 토큰 유효성 검증 강화

### Phase 3: 고급 기능 (2-3일)
1. 소셜 로그인 (카카오, 네이버)
2. 생체 인증 (지문, Face ID)
3. 2단계 인증

---

## 🧪 테스트 체크리스트

### 기능 테스트
- [x] 로그인 성공 시나리오
- [x] 로그인 실패 시나리오 (잘못된 자격증명)
- [x] 회원가입 성공 시나리오
- [x] 회원가입 실패 시나리오 (중복 이메일 등)
- [x] 비밀번호 재설정 메일 발송
- [x] 유효성 검증 (이메일, 비밀번호, 전화번호)

### UI/UX 테스트
- [x] 키보드 회피 동작
- [x] 로딩 상태 표시
- [x] 에러 메시지 표시
- [x] 화면 전환 애니메이션
- [ ] 다크모드 지원 (선택사항)

### 보안 테스트
- [x] 토큰 안전 저장 (EncryptedStorage)
- [ ] 로그인 실패 횟수 제한
- [ ] 비밀번호 암호화 (서버 측)

---

## 📚 참고 문서

| 문서 | 경로 | 용도 |
|------|------|------|
| 로그인 화면 명세 | `docs/05_screens/01_auth/login.md` | 로그인 화면 상세 |
| 회원가입 화면 명세 | `docs/05_screens/01_auth/register.md` | 회원가입 화면 상세 |
| 비밀번호 재설정 명세 | `docs/05_screens/01_auth/forgot-password.md` | 비밀번호 재설정 상세 |
| 인증 API 명세 | `docs/13_api/` | API 엔드포인트 |

---

## ⏭️ 다음 단계

인증 도메인 완료 후:
1. → [12-workplace.md](./12-workplace.md) (사업장 - 로그인 후 첫 화면)
2. → [02-home.md](./02-home.md) (홈 화면)

---

## 💡 참고 사항

- 인증 도메인은 **이미 완전히 구현**되어 프로덕션 사용 가능
- 추가 개선 항목은 **선택사항**으로, 필수는 아님
- 소셜 로그인, 생체 인증 등은 향후 Phase 2-3에서 구현 권장

