# 프로젝트 개요
**관련 문서**: [용어 정의](./glossary.md) | [기능 요구사항](../02_requirements/functional.md)

---

| **프로젝트명** | Biz_One (소상공인 올인원 근태/급여 관리 앱) |
| **버전** | 1.0.0 |
| **대상 사용자** | 소상공인 사업주 및 직원 |
| **서비스 형태** | B2B SaaS (멀티테넌트) |

## 1. 프로젝트 소개

**Biz_One**은 소규모 사업장의 인력 관리를 위한 종합 솔루션입니다. 사업주는 하나의 앱으로 직원 출퇴근 관리, 업무 체크리스트, 급여 계산, 근로계약서 관리까지 모든 인력 관리 업무를 처리할 수 있습니다.

## 2. 개발 배경

### 2.1 현재 문제점
- 소상공인의 수기 근태 관리로 인한 정확성 저하
- 급여 계산 수작업으로 인한 오류 가능성
- 업무 체크리스트 관리의 비효율성
- 근로계약서 서면 관리의 불편함
- 분산된 관리 시스템으로 인한 업무 복잡성

### 2.2 개발 목표
- GPS 기반 정확한 출퇴근 관리
- 사업장별 맞춤형 업무 체크리스트
- 자동 급여 계산 및 명세서 생성
- 전자근로계약서로 계약 관리 간소화
- 모든 인력 관리를 하나의 앱에서 통합 관리

## 3. 주요 기능

### 3.1 사업주(관리자) 기능

| 기능 | 설명 |
|------|------|
| 사업장 관리 | 사업자등록번호 필수 검증 (국세청 API), 도로명 주소 검색으로 사업장 등록, 네이버 지오코딩 API로 자동 GPS 좌표 설정, 출퇴근 허용 반경 설정, 사업장별 근무 시간 설정 |
| 직원 관리 | 아이디 기반 직원 초대, 직원별 근무 시간 설정, 직원별 개별 시급 설정 (근무자 수 제한 없음), 최저시급 미만 설정 불가 (알림 표시) |
| 체크리스트 관리 | 커스텀 체크리스트 템플릿 생성/수정/삭제, 근무자별 할당 (푸시 알림), 즐겨찾기, 실시간 모니터링 |
| 근태 관리 | 출퇴근 기록 조회, 조기 출근 급여 자동 조정, 수동 입력 승인/거부, 수정 요청 처리 |
| 급여 관리 | 근로기준법 기반 자동 급여 계산 (주휴수당, 연장/야간/휴일 수당), 산출식 자동 표시, 4대 보험/세금 자동 계산, PDF 명세서 생성, 엑셀 추출, 급여 지급일 알림 및 지급 체크리스트 |
| 근로계약 관리 | 근로기준법 준수 전자근로계약서 작성, 법규 검증 버튼으로 위반 여부 확인, 법규 위반 시 법조문 표시, 발송, 이력 관리 |
| 공지사항 | 공지 작성/수정/삭제, 조회수/읽은 사람 확인, 댓글/대댓글 관리 |
| 채팅 | 사업장 단위 그룹 채팅 + 직원별 1:1 채팅, 다양한 파일 형식 지원 |
| 다중 사업장 | 여러 사업장 운영 시 사업장 전환 및 대시보드 확인 |

### 3.2 직원 기능

| 기능 | 설명 |
|------|------|
| 출퇴근 처리 | GPS 기반 출퇴근 버튼 클릭 (사업장 GPS 좌표 기반 거리 계산), 조기 출근 시 시업 시간부터 급여 계산 안내 |
| 퇴근 조건 | 업무 체크리스트 완료 필수, 미완료 시 퇴근 버튼 비활성화, 미수행 업무 사유 입력 (3자 이상) |
| 수동 근태 입력 | GPS 인증 실패 시 수동 입력 (승인 필요) |
| 업무 체크리스트 | 나에게 할당된 업무 체크, 진행률 확인, 할당 시 푸시 알림 수신 |
| 캘린더 | 본인 출퇴근 기록, 근무 시간, 급여 조회 |
| 급여 명세서 | 본인 급여 명세서 열람 및 PDF 다운로드 (산출식 상세 표시) |
| 근로계약서 | 계약서 열람 및 전자서명, 근로조건 확인 |
| 공지사항 | 관리자 공지 확인, 조회수, 댓글/대댓글 작성 |
| 채팅 | 사업장 그룹 채팅 + 관리자와 1:1 채팅 참여 |
| 다중 사업장 | 여러 사업장 근무 시 사업장 전환 및 대시보드 확인 |

## 4. 급여 계산 규칙

### 4.1 기본 규칙
- 시급은 사업주가 직원별로 개별 설정 (근무자 수 제한 없음)
- 근무 시간 = 퇴근 시간 - 출근 시간
- 기본 급여 = 근무 시간 × 시급

### 4.2 주휴수당 자동 계산 (근로기준법 적용)
- **적용 조건**: 1주 소정근로일을 개근한 근로자
  - 1주 근무시간이 15시간 이상인 경우
  - 주 소정근로일(출근 의무가 있는 날)을 모두 출근
- **계산 공식**: (1주 총 근무시간 ÷ 주 소정근로일수) × 1일 × 시급
- **지급 기준**: 매주 일요일 기준으로 산정
- **예시**: 
  - 주 5일 근무, 하루 8시간, 시급 10,000원
  - 주휴수당 = (40시간 ÷ 5일) × 1일 × 10,000원 = 80,000원

### 4.3 연장/야간/휴일 근로수당 (근로기준법 제56조)
- **연장 근로** (1일 8시간, 1주 40시간 초과): 통상임금의 50% 가산
- **야간 근로** (오후 10시 ~ 오전 6시): 통상임금의 50% 가산
- **휴일 근로**: 통상임금의 50% 가산
- 중복 시 각각 가산 (예: 휴일 야간 근로 = 100% 가산)

### 4.4 최저시급 참고

| 연도 | 최저시급 |
|------|------|
| 2025년 | 10,030원 |
| 2026년 | 10,320원 |

※ 시급 설정 시 최저시급 미만 경고 표시 및 설정 불가

### 4.5 4대 보험 및 세금 계산 (세무 연동)
- **국민연금**: 월 소득의 4.5% (사업주/근로자 각 부담)
- **건강보험**: 월 소득의 3.545% (사업주/근로자 각 부담)
- **장기요양보험**: 건강보험료의 12.95%
- **고용보험**: 월 소득의 0.9% (근로자 부담)
- **산재보험**: 업종별 차등 (사업주 전액 부담)
- **소득세**: 근로소득 간이세액표 적용
- **지방소득세**: 소득세의 10%

### 4.6 급여 명세서 항목
```
[지급 내역]
+ 기본급 (근무시간 × 시급)
+ 주휴수당
+ 연장근로수당
+ 야간근로수당
+ 휴일근로수당

[공제 내역]
- 국민연금
- 건강보험
- 장기요양보험
- 고용보험
- 소득세
- 지방소득세

= 실 지급액
```

## 5. 전자근로계약서

### 5.1 근로기준법 필수 기재 사항
- **계약 기간**: 시작일, 종료일 (또는 무기계약 여부)
- **근무 장소**: 실제 근무할 사업장 주소
- **업무 내용**: 구체적인 업무 범위
- **근로 시간**: 시업/종업 시각, 휴게 시간
- **근무 요일**: 주 소정근로일
- **급여**: 시급, 급여 구성 항목, 계산 방법
- **급여 지급일**: 매월 지급일 명시
- **휴일/휴가**: 주휴일, 연차유급휴가 등

### 5.2 법규 준수 가이드라인
- **최저시급 확인**: 설정 시급이 최저시급 미만이면 계약서 생성 불가
- **근로 시간 검증**: 1일 8시간, 1주 40시간 기준 초과 시 경고 및 가산수당 안내
- **휴게 시간 검증**: 4시간당 30분, 8시간당 1시간 휴게 필수 확인
- **미성년자 보호**: 만 15세 미만 근로 금지, 15~18세 근로시간 제한 안내
- **필수 항목 누락 방지**: 법정 필수 사항 미입력 시 계약서 생성 제한

### 5.3 커스터마이징 가능 항목
- 기타 수당 (식대, 교통비 등)
- 복리후생 조건
- 근무 특이 사항
- 추가 약정 사항

### 5.4 계약 프로세스
1. 사업주가 계약서 작성 (가이드라인 자동 검증)
2. 법규 위반 사항 있으면 경고 및 수정 요청
3. 검증 완료 후 직원에게 계약서 발송 (앱 내 알림 + 푸시)
4. 직원이 계약서 내용 확인 후 전자서명
5. 양측 서명 완료된 계약서 자동 보관
6. 언제든 PDF 다운로드 및 열람 가능

## 6. 개발 환경

### 6.1 기술 스택

#### Frontend (Mobile)
- **Framework**: React Native 0.83 + JavaScript
- **상태관리**: Redux Toolkit + React Query

#### Backend (API Server)
- **Framework**: Spring Boot 4.0.1 (JDK 21.0.8, Gradle-Groovy)
- **Database**: PostgreSQL 18.1
- **ORM**: Spring Data JPA + QueryDSL
- **보안**: Spring Security + JWT

#### 실시간 처리 (Signaling Server)
- **Runtime**: Node.js 24.11.0 LTS
- **Protocol**: Socket.IO (WebSocket)
- **기능**: 채팅, 실시간 알림, 출퇴근 상태 동기화
- **스케일링**: 동적 할당 (Auto Scaling)

#### 클라우드 (AWS)
- **Compute**: EC2 (Spring Boot), ECS/Fargate (Node.js)
- **Database**: Amazon RDS (PostgreSQL 18.1)
- **Storage**: Amazon S3 (파일 저장)
- **CDN**: CloudFront
- **Load Balancing**: ALB (Application Load Balancer)

#### 인증 (직접 구현)
- **Backend**: Spring Security + JWT (Access/Refresh Token)
- **비밀번호**: BCrypt 해시
- **세션**: Redis 기반 토큰 관리

#### 푸시 알림 (직접 구현)
- **방식**: WebSocket + 폴링 하이브리드
- **실시간**: Socket.IO 기반 실시간 알림
- **백그라운드**: 디바이스 토큰 기반 직접 푸시 (APNs/FCM 프로토콜 직접 구현)

#### 배포
- **CI/CD**: GitHub Actions
- **Container**: Docker
- **App Store**: App Store, Play Store

### 6.2 시스템 구성도
```
┌─────────────────────────────────────────────────────────────────────┐
│                        React Native App                             │
│                    (iOS / Android / JavaScript)                     │
└───────────────────────────┬─────────────────────────────────────────┘
                            │ HTTPS / WSS
                            ▼
┌─────────────────────────────────────────────────────────────────────┐
│                    AWS Cloud Infrastructure                         │
│  ┌──────────────────────────────────────────────────────────────┐  │
│  │                    Application Load Balancer                   │  │
│  └──────────────────────────┬───────────────────────────────────┘  │
│                             │                                        │
│              ┌──────────────┴──────────────┐                        │
│              ▼                             ▼                        │
│  ┌──────────────────────┐     ┌──────────────────────┐             │
│  │    Spring Boot       │     │    Node.js Signal    │             │
│  │     API Server       │     │       Server         │             │
│  │      (EC2)           │     │    (ECS/Fargate)     │             │
│  │                      │     │                      │             │
│  │ - REST API           │     │ - WebSocket          │             │
│  │ - 인증 (JWT)         │     │ - 실시간 채팅        │             │
│  │ - 비즈니스 로직      │     │ - 푸시 알림 전송     │             │
│  └──────────┬───────────┘     └──────────┬───────────┘             │
│             │                            │                          │
│             │    ┌───────────────────────┤                          │
│             ▼    ▼                       ▼                          │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐              │
│  │   RDS        │  │   ElastiCache│  │     S3       │              │
│  │(PostgreSQL)  │  │   (Redis)    │  │  (Storage)   │              │
│  │              │  │              │  │              │              │
│  │ - 사용자 DB  │  │ - 세션/토큰  │  │ - 파일 저장  │              │
│  │ - 비즈니스   │  │ - 캐싱       │  │ - 이미지     │              │
│  └──────────────┘  └──────────────┘  └──────────────┘              │
│                                                                      │
│  ┌──────────────┐  ┌──────────────┐                                │
│  │  CloudFront  │  │  CloudWatch  │                                │
│  │    (CDN)     │  │ (Monitoring) │                                │
│  └──────────────┘  └──────────────┘                                │
└─────────────────────────────────────────────────────────────────────┘
```

### 6.3 개발 순서
```
Phase 1: 인프라 구축 및 인증 → Phase 2: 코어 기능 개발 → Phase 3: 실시간 기능 → Phase 4: 테스트 및 배포
```

## 7. 비용 계획

### 7.1 초기 비용

| 항목 | 비용 |
|------|------|
| Google Play Console | $25 (1회) |
| Apple Developer | $99/년 |
| 도메인 (선택) | 약 $12/년 |

### 7.2 월 운영 비용 (예상)

| 항목 | 비용 (월) | 비고 |
|------|----------|------|
| EC2 (t3.medium) | ~$30 | Spring Boot API Server |
| RDS (db.t3.micro) | ~$15 | PostgreSQL (프리티어 이후) |
| ECS Fargate | ~$10 | Node.js Signaling Server |
| S3 | ~$5 | 파일 저장 |
| Cognito | $0 | 50,000 MAU 무료 |
| CloudFront | ~$5 | CDN |
| 기타 | ~$5 | 데이터 전송, CloudWatch 등 |
| **합계** | **~$70** | 초기 소규모 기준 |

### 7.3 AWS 프리티어 활용
- EC2: t2.micro 750시간/월 (12개월)
- RDS: db.t2.micro 750시간/월 (12개월)
- S3: 5GB 무료
- Cognito: 50,000 MAU 무료

※ 사용자 증가에 따른 Auto Scaling 비용 모니터링 필요

## 8. 향후 확장 계획

- 다중 사업장 관리 (1인 사업주가 여러 매장 운영)
- 웹 대시보드 (PC에서 관리)
- 직원 평가 및 성과 관리
- 근무 스케줄 자동 배정
- 외부 회계 프로그램 연동
