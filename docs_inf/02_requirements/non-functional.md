# 비기능 요구사항

## 1. 성능 (Performance)

### NFR-01: 응답 시간
| 항목 | 기준 |
|------|------|
| 화면 전환 | 300ms 이내 |
| API 응답 | 2초 이내 |
| 출퇴근 처리 | 3초 이내 |
| 이미지 로딩 | 3초 이내 |
| PDF 생성 | 5초 이내 |
| 엑셀 추출 | 10초 이내 (1,000건 기준) |

### NFR-02: 실시간 동기화
| 항목 | 기준 |
|------|------|
| WebSocket 연결 | 안정적 연결 유지 (재연결 자동화) |
| 채팅 메시지 | 실시간 (1초 이내) |
| 체크리스트 상태 | 실시간 |
| 출퇴근 상태 | 실시간 |
| 시그널링 서버 | Socket.IO 기반 동적 스케일링 |

---

## 2. 확장성 (Scalability)

### NFR-03: 사용자 확장
| 항목 | 기준 |
|------|------|
| 동시 접속자 | 1,000명 이상 지원 |
| 사업장 수 | 제한 없음 |
| 사업장당 직원 수 | 최대 100명 |
| 월간 근태 기록 | 사업장당 10,000건 이상 |

### NFR-04: 데이터 확장
| 항목 | 기준 |
|------|------|
| PostgreSQL (RDS) | 스토리지 자동 확장 지원 |
| S3 용량 | 무제한 (사용량 기반) |
| 메시지 보관 | 1년 이상 |
| 백업 | RDS 자동 백업 (7일 보관) |

---

## 3. 신뢰성 (Reliability)

### NFR-05: 가용성
| 항목 | 기준 |
|------|------|
| 서비스 가용성 | 99.9% (AWS SLA) |
| API 서버 | EC2 Auto Scaling + ALB |
| 시그널링 서버 | ECS Fargate 동적 스케일링 |
| 데이터베이스 | RDS Multi-AZ (선택적) |
| 오프라인 지원 | React Query 캐싱 + AsyncStorage |
| 데이터 백업 | RDS 자동 백업 + S3 버전 관리 |

### NFR-06: 데이터 정확성
| 항목 | 기준 |
|------|------|
| GPS 정확도 | 반경 50m 이내 |
| 급여 계산 | 오류율 0% |
| 출퇴근 기록 | 정확도 99% 이상 |
| 시간 동기화 | 서버 시간 기준 |

---

## 4. 보안 (Security)

### NFR-07: 인증/인가
| 항목 | 내용 |
|------|------|
| 인증 방식 | Spring Security + JWT (직접 구현) |
| 세션 관리 | JWT 토큰 (Access + Refresh Token) |
| 토큰 저장 | Redis (Refresh Token 관리) |
| 토큰 갱신 | Refresh Token을 통한 자동 갱신 |
| 권한 분리 | 사업주/직원 역할 기반 (RBAC) |
| API 보안 | Spring Security 필터 체인 |

### NFR-08: 데이터 보호
| 항목 | 내용 |
|------|------|
| 통신 암호화 | HTTPS (TLS 1.3) + WSS |
| 데이터 저장 | RDS 암호화 (AES-256) |
| 파일 저장 | S3 서버 측 암호화 (SSE-S3) |
| 민감 정보 | Keychain/Keystore 저장 |
| 비밀번호 | BCrypt 해시 저장 |

### NFR-09: 멀티테넌트 보안
| 항목 | 내용 |
|------|------|
| 데이터 격리 | 사업장별 데이터 완전 분리 (workplace_id 기반) |
| 접근 제어 | Spring Security + Custom 권한 체크 |
| 크로스테넌트 접근 | 완전 차단 (서비스 레이어에서 검증) |
| API 보안 | 모든 API에 권한 검증 적용 |

### NFR-10: 개인정보 보호
| 항목 | 내용 |
|------|------|
| 위치 정보 | 출퇴근 시에만 사용 |
| 데이터 접근 | 본인 또는 사업주만 |
| 법규 준수 | 개인정보보호법, 위치정보보호법 |
| 근로계약서 | 전자서명법 준수 |

---

## 5. 호환성 (Compatibility)

### NFR-11: 플랫폼 지원
| 플랫폼 | 최소 버전 |
|--------|----------|
| iOS | 13.0 이상 |
| Android | 8.0 (API 26) 이상 |

### NFR-12: 디바이스 지원
| 항목 | 내용 |
|------|------|
| 화면 크기 | 4.7인치 ~ 6.7인치 |
| 해상도 | 반응형 UI |
| 방향 | 세로 모드 (Portrait) |
| GPS | 필수 |

---

## 6. 사용성 (Usability)

### NFR-13: UI/UX
| 항목 | 기준 |
|------|------|
| 디자인 시스템 | Material Design 3 |
| 폰트 크기 | 최소 14sp |
| 터치 영역 | 최소 44x44 dp |
| 색상 대비 | WCAG 2.1 AA 준수 |

### NFR-14: 접근성
| 항목 | 내용 |
|------|------|
| 스크린 리더 | VoiceOver/TalkBack 지원 |
| 다크 모드 | 지원 |
| 글꼴 크기 조절 | 시스템 설정 연동 |

### NFR-15: 다국어
| 항목 | 내용 |
|------|------|
| 기본 언어 | 한국어 |
| 향후 지원 | 영어 (옵션) |

---

## 7. 유지보수성 (Maintainability)

### NFR-16: 코드 품질
| 항목 | 기준 |
|------|------|
| 테스트 커버리지 | 80% 이상 |
| Frontend 린팅 | ESLint 규칙 준수 |
| Frontend 포맷팅 | Prettier 적용 |
| Frontend 타입 검사 | PropTypes 런타임 검사 |
| Backend 코드 스타일 | Google Java Style Guide |
| Backend 정적 분석 | SonarQube (선택적) |
| API 테스트 | JUnit 5 + MockMvc |

### NFR-17: 문서화
| 항목 | 내용 |
|------|------|
| API 문서 | Swagger/OpenAPI 3.0 |
| 아키텍처 문서 | docs 폴더 관리 |
| DB 스키마 문서 | ERD + DDL 문서화 |
| 변경 이력 | Git 커밋 규칙 준수 |

### NFR-18: 모니터링
| 항목 | 내용 |
|------|------|
| 에러 추적 | Firebase Crashlytics (App) |
| 서버 로깅 | CloudWatch Logs |
| APM | AWS X-Ray (선택적) |
| 사용 분석 | Firebase Analytics |
| 인프라 모니터링 | CloudWatch Metrics + Alarms |
